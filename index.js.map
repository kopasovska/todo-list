{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/storage.js","../src/js/stats.js","../src/js/render.js","../src/js/lists.js","../src/js/tasks.js","../src/main.js"],"sourcesContent":["export const refs = {\n  listInput: document.querySelector('.list-input'),\n  addListForm: document.querySelector('.add-new-list-form'),\n  statsContainer: document.querySelector('.nav-stats'),\n  cardsContainer: document.querySelector('.cards-list'),\n  noCardsInfo: document.querySelector('.no-lists-info'),\n};\n","export const getSavedData = () => {\n  return JSON.parse(localStorage.getItem('todoApp')) || [];\n};\n\nexport const saveData = data => {\n  localStorage.setItem('todoApp', JSON.stringify(data));\n};\n","import { getSavedData, saveData } from './storage.js';\nimport { refs } from './refs.js';\n\nexport const updateStats = () => {\n  const data = getSavedData();\n\n  if (!data.length) {\n    refs.statsContainer.textContent = '0/0 tasks completed';\n  } else {\n    const totalTasks = data.reduce((sum, list) => sum + list.tasks.length, 0);\n    const completedTaks = data.reduce(\n      (sum, list) => sum + list.tasks.filter(t => t.completed).length,\n      0\n    );\n    refs.statsContainer.textContent = `${\n      completedTaks || '0'\n    }/${totalTasks} tasks completed`;\n  }\n};\n","import { updateStats } from './stats.js';\nimport { refs } from './refs.js';\nimport { getSavedData, saveData } from './storage.js';\n\nconst renderTask = task => {\n  return `\n    <li class=\"task-item\" data-id=\"${task.id}\">\n      <span class=\"task-info-wrapper\">\n        <i class=\"task-check fa-regular ${\n          task.completed ? 'fa-circle-check' : 'fa-circle'\n        }\"></i>\n        <p class=\"task-text ${task.completed ? 'muted-text' : ''}\">${\n    task.text\n  }</p>\n      </span>\n      <div class=\"task-toolbar\">\n        <button type=\"button\" class=\"secondary-btn edit-task-btn\">\n          <i class=\"fa-solid fa-pen\"></i>\n        </button>\n        <button type=\"button\" class=\"secondary-btn delete-task-btn\">\n          <i class=\"fa-solid fa-trash\"></i>\n        </button>\n      </div>\n    </li>\n  `;\n};\n\nconst renderCard = list => {\n  const completedCount = list.tasks.filter(t => t.completed).length;\n\n  return `\n    <li class=\"cards-item\" data-id=\"${list.id}\">\n      <div class=\"card-header\">\n        <span class=\"card-title-wrapper\">\n          <i class=\"fa-solid fa-paperclip\"></i>\n          <p class=\"card-title\">${list.title}</p>\n        </span>\n        <div class=\"card-toolbar\">\n          <div class=\"card-stats\">${completedCount}/${\n    list.tasks.length\n  } completed</div>\n          <button type=\"button\" class=\"secondary-btn reset-all-tasks-btn\">\n            <i class=\"fa-solid fa-rotate-right\"></i>\n          </button>\n          <button type=\"button\" class=\"secondary-btn delete-card-btn\">\n            <i class=\"fa-solid fa-trash\"></i>\n          </button>\n        </div>\n      </div>\n      <form class=\"add-new-task-form\">\n        <input type=\"text\" name=\"taskName\" placeholder=\"Add a new task\" class=\"add-new-input task-input\" />\n        <button type=\"submit\" class=\"primary-btn add-new-task-btn\">\n          <i class=\"fa-solid fa-plus\"></i>\n        </button>\n      </form>\n      <ul class=\"tasks-list\">\n        ${list.tasks.map(renderTask).join('')}\n      </ul>\n    </li>\n  `;\n};\n\nconst renderCards = () => {\n  const savedData = getSavedData();\n\n  refs.cardsContainer.innerHTML = '';\n\n  if (!savedData.length) {\n    refs.cardsContainer.classList.add('invisible');\n    refs.noCardsInfo.classList.remove('invisible');\n    return;\n  }\n\n  refs.cardsContainer.classList.remove('invisible');\n  refs.noCardsInfo.classList.add('invisible');\n\n  refs.cardsContainer.innerHTML = savedData.map(renderCard).join('');\n\n  updateStats();\n};\n\nexport default renderCards;\n","import { saveData, getSavedData } from './storage.js';\nimport renderCards from './render.js';\n\nexport const addNewList = title => {\n  const data = getSavedData();\n\n  const newList = {\n    id: `list-${Date.now()}`,\n    title: title,\n    tasks: [],\n  };\n\n  data.push(newList);\n  saveData(data);\n  renderCards();\n};\n\nexport const deleteList = id => {\n  const savedData = getSavedData();\n  const newData = savedData.filter(list => list.id !== id);\n  saveData(newData);\n  renderCards();\n};\n","import { saveData, getSavedData } from './storage.js';\nimport renderCards from './render.js';\n\nexport const addNewTask = (listId, taskText) => {\n  const data = getSavedData();\n\n  const list = data.find(l => l.id === listId);\n  if (!list) return;\n\n  const newTask = {\n    id: `task-${Date.now()}`,\n    text: taskText,\n    completed: false,\n  };\n\n  list.tasks.push(newTask);\n\n  saveData(data);\n  renderCards();\n};\n\nexport const deleteTask = (listId, taskId) => {\n  const data = getSavedData();\n\n  const list = data.find(l => l.id === listId);\n  if (!list) return;\n\n  list.tasks = list.tasks.filter(t => t.id !== taskId);\n\n  saveData(data);\n  renderCards();\n};\n\nexport const toggleTaskStatus = (listId, taskId) => {\n  const data = getSavedData();\n\n  const list = data.find(l => l.id === listId);\n  if (!list) return;\n\n  const task = list.tasks.find(t => t.id === taskId);\n  task.completed = !task.completed;\n\n  if (task.completed) {\n    list.tasks = [...list.tasks.filter(t => t.id !== taskId), task];\n  } else {\n    list.tasks = [task, ...list.tasks.filter(t => t.id !== taskId)];\n  }\n\n  saveData(data);\n  renderCards();\n};\n\nexport const resetAllTasks = listId => {\n  const data = getSavedData();\n\n  const list = data.find(l => l.id === listId);\n  list.tasks.map(t => (t.completed = false));\n\n  saveData(data);\n  renderCards();\n};\n","import { refs } from './js/refs.js';\nimport { updateStats } from './js/stats.js';\nimport { deleteList, addNewList } from './js/lists.js';\nimport {\n  addNewTask,\n  deleteTask,\n  toggleTaskStatus,\n  resetAllTasks,\n} from './js/tasks.js';\nimport renderCards from './js/render.js';\n\n/* Event Listeners */\n\n//add new list\nrefs.addListForm.addEventListener('submit', e => {\n  e.preventDefault();\n  const title = refs.listInput.value.trim();\n  if (!title) return;\n  addNewList(title);\n  refs.listInput.value = '';\n});\n\n//delete list\nrefs.cardsContainer.addEventListener('click', e => {\n  if (e.target.closest('.delete-card-btn')) {\n    const cardItem = e.target.closest('.cards-item');\n    const id = cardItem.dataset.id;\n    deleteList(id);\n  }\n});\n\n//add new task\nrefs.cardsContainer.addEventListener('submit', e => {\n  const form = e.target.closest('.add-new-task-form');\n  if (form) {\n    e.preventDefault();\n\n    const input = form.querySelector('.task-input');\n    const taskText = input.value.trim();\n    if (!taskText) return;\n    const cardItem = form.closest('.cards-item');\n    const cardId = cardItem.dataset.id;\n\n    addNewTask(cardId, taskText);\n    input.value = '';\n  }\n});\n\n//delete task\nrefs.cardsContainer.addEventListener('click', e => {\n  if (e.target.closest('.delete-task-btn')) {\n    const task = e.target.closest('.task-item');\n    const taskId = task.dataset.id;\n    if (!taskId) return;\n\n    const cardItem = task.closest('.cards-item');\n    const cardId = cardItem.dataset.id;\n\n    deleteTask(cardId, taskId);\n  }\n});\n\n//complete task\nrefs.cardsContainer.addEventListener('click', e => {\n  if (e.target.closest('.task-check')) {\n    const task = e.target.closest('.task-item');\n    const taskId = task.dataset.id;\n    if (!taskId) return;\n\n    const cardItem = task.closest('.cards-item');\n    const cardId = cardItem.dataset.id;\n\n    toggleTaskStatus(cardId, taskId);\n  }\n});\n\n//reset all tasks\nrefs.cardsContainer.addEventListener('click', e => {\n  if (e.target.closest('.reset-all-tasks-btn')) {\n    const cardItem = e.target.closest('.cards-item');\n    const id = cardItem.dataset.id;\n    resetAllTasks(id);\n  }\n});\n\n/* Start App */\n\nconst startApp = () => {\n  updateStats();\n  renderCards();\n};\n\nstartApp();\n"],"names":["refs","getSavedData","saveData","data","updateStats","totalTasks","sum","list","completedTaks","t","renderTask","task","renderCard","completedCount","renderCards","savedData","addNewList","title","newList","deleteList","id","newData","addNewTask","listId","taskText","l","newTask","deleteTask","taskId","toggleTaskStatus","resetAllTasks","e","form","input","cardId","startApp"],"mappings":"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"}